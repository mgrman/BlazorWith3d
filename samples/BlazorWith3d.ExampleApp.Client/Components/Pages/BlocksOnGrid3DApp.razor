@page "/app"
@using BlazorWith3d.ExampleApp.Client.Components
@using BlazorWith3d.ExampleApp.Client.Unity.Components
@using BlazorWith3d.ExampleApp.Client.HTML


<PageTitle>WebGL instance</PageTitle>

<InputSelect id="scent" @bind-Value="_renderer">
    @foreach (var renderer in _renderers)
    {
        <option value="@renderer">@renderer</option>
    }
</InputSelect>

<BlocksOnGrid3DComponent >
    @switch (_renderer)
    {
        case "None":
            break;
        case "Unity WebGL":
            <BlocksOnGridUnityRenderer IsWithResponse="false"></BlocksOnGridUnityRenderer> 
            // use binary api with response
            break;
        case "Unity WebGL (withResponse)":
            <BlocksOnGridUnityRenderer IsWithResponse="true"></BlocksOnGridUnityRenderer> 
            // use binary api with response
            break;
        case "Html":
            <BlocksOnGridHTMLComponent></BlocksOnGridHTMLComponent>
            // implements the interface directly
            break;
        case "Babylon":
            <BlazorWith3d.ExampleApp.Client.Babylon.BlocksOnGridBabylonRenderer></BlazorWith3d.ExampleApp.Client.Babylon.BlocksOnGridBabylonRenderer>
            // uses binary TS interface with response
            break;
        case "ThreeJS":
            <BlazorWith3d.ExampleApp.Client.ThreeJS.BlocksOnGridThreeJSRenderer></BlazorWith3d.ExampleApp.Client.ThreeJS.BlocksOnGridThreeJSRenderer>
            // uses binary TS interface with response
            break;
        case "ThreeJS.Interop":
            <BlazorWith3d.ExampleApp.Client.ThreeJS.BlocksOnGridThreeJSDirectRenderer></BlazorWith3d.ExampleApp.Client.ThreeJS.BlocksOnGridThreeJSDirectRenderer>
            // uses generated interop code 
            break;
            default:
            <text> Unsupported renderer type @_renderer</text>
            break;
    }
    
</BlocksOnGrid3DComponent>


@code{

    List<string> _renderers = ["None","Unity WebGL","Unity WebGL (withResponse)", "Html", "Babylon", "ThreeJS", "ThreeJS.Interop"];

    string _renderer = "None";

}
